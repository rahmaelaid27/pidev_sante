{# templates/consultation/history.html.twig #}

{% extends 'front.html.twig' %}

{% block stylesheets %}

{#    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">#}
{#    <link rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.bootstrap5.css">#}
{% endblock %}

{% block javascripts %}

    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>#}
    <script src="https://cdn.datatables.net/2.2.2/js/dataTables.js"></script>
{#    <script src="https://cdn.datatables.net/2.2.2/js/dataTables.bootstrap5.js"></script>#}
    <script>
        $(document).ready(function() {
            $('#consultationsTable').DataTable();
        });
    </script>
{% endblock %}

{% block body %}
    <h1>Consultation History</h1>
    <table id="consultationsTable" class="table table-striped" style="width:100%">
        <thead>
        <tr>
            <th>ID</th>
            <th>Date</th>
            <th>Patient</th>
            <th>Professional</th>
            <th>Reason</th>
        </tr>
        </thead>
        <tbody>
        {% for consultation in consultations %}
            <tr>
                <td>{{ consultation.id }}</td>
                <td>{{ consultation.dateConsultation ? consultation.dateConsultation|date('Y-m-d') : '' }}</td>
                <td>{{ consultation.user ? consultation.user.getnom() : 'N/A' }}</td>
                <td>{{ consultation.professionnel ? consultation.professionnel.getNom() : 'N/A' }}</td>
                <td>{{ consultation.reason }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}